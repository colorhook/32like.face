<!doctype html>
<html>
<head>
<meta charset='utf-8'>
<title>{{title}}</title>
<meta name="viewport" content="width=device-width,height=device-height,inital-scale=1.0">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="format-detection" content="telephone=no">
<link rel='stylesheet' href='/lib/bootstrap/css/bootstrap.min.css'>
<style>
html{width:100%;height:100%;}
body{position:relative;padding-bottom:150px;min-height:100%;width:100%;}
#footer{height:150px;overflow:hidden;position:absolute;bottom:0;left:0;width:100%;color: #aba9a7;font-size: 15px;box-shadow: inset 0 11px 8px -11px rgba(0,0,0,.12);background: #f1efeb;padding: 20px 0;}
#footer .container{display:-webkit-box}
#footer .span8{-webkit-box-flex:1;text-align:left;padding-top:40px;}
@media (max-width:480px){
  #footer{padding:20px 0;height:auto}
  #footer .qr{display:none;}
  #footer .span8{padding-top:0;}
  .navbar{margin-bottom:0}
  .container .jumbotron{margin-top:20px}
  .navbar-brand{text-align: center}
  body{padding-bottom:0}
}

@media (min-width:650px){
  #main > .container{padding-top:80px;max-width:800px}
  .container .qr{float:left}
  .container .jumbotron{float:right;margin-top:16px;padding-top:40px;padding-left:40px;padding-right:40px}
  .jumbotron p{font-size:1.5em}
}
.navbar-brand{width:100%;font-size:1.6em}
</style>
<script src="http://tajs.qq.com/stats?sId=39832061" charset="UTF-8"></script>
</head>
<body>
<header class="navbar navbar-static-top bs-docs-nav" id="top" role="banner">
  <div class="container">
  </div>
</header>

<div id="main">
  <section class="container clearfix">
    <div class="qr center-block" style="text-align:center">
      <img src="{{img}}" width="200"/>
    </div>
    <div class="jumbotron">
      <p>{{info|safe}}</p>
    </div>
  </section>
</div>
  
<div id="footer">
  <div class="container">
  </div>
</div>
<script>
!function(e){"use strict";var i={version:4};e.WeixinApi=i,"function"==typeof define&&(define.amd||define.cmd)&&(define.amd?define(function(){return i}):define.cmd&&define(function(require,exports,e){e.exports=i}));var n=function(){for(var e,i,n={},a=0,t=arguments.length;t>a;a++)if(e=arguments[a],"object"==typeof e)for(i in e)e[i]&&(n[i]=e[i]);return n},a=function(e,a,t){t=t||{};var r=function(e){switch(!0){case/\:cancel$/i.test(e.err_msg):t.cancel&&t.cancel(e);break;case/\:(confirm|ok)$/i.test(e.err_msg):t.confirm&&t.confirm(e);break;case/\:fail$/i.test(e.err_msg):default:t.fail&&t.fail(e)}t.all&&t.all(e)},o=function(i,n){if("menu:share:timeline"==e.menu||"general:share"==e.menu&&"timeline"==n.shareTo){var a=i.title;i.title=i.desc||a,i.desc=a||i.desc}if("general:share"===e.menu){if(("favorite"==n.shareTo||"favorite"==n.scene)&&t.favorite===!1)return n.generalShare(i,function(){});"timeline"===n.shareTo?WeixinJSBridge.invoke("shareTimeline",i,r):"friend"===n.shareTo?WeixinJSBridge.invoke("sendAppMessage",i,r):"QQ"===n.shareTo&&WeixinJSBridge.invoke("shareQQ",i,r)}else WeixinJSBridge.invoke(e.action,i,r)};WeixinJSBridge.on(e.menu,function(e){if(t.dataLoaded=t.dataLoaded||new Function,t.async&&t.ready)i._wx_loadedCb_=t.dataLoaded,i._wx_loadedCb_.toString().indexOf("_wx_loadedCb_")>0&&(i._wx_loadedCb_=new Function),t.dataLoaded=function(r){t.__cbkCalled=!0;var s=n(a,r);s.img_url=s.imgUrl||s.img_url,delete s.imgUrl,i._wx_loadedCb_(s),o(s,e)},(!e||"favorite"!=e.shareTo&&"favorite"!=e.scene||t.favorite!==!1)&&(t.ready&&t.ready(e,a),t.__cbkCalled||(t.dataLoaded({}),t.__cbkCalled=!1));else{var r=n(a);(!e||"favorite"!=e.shareTo&&"favorite"!=e.scene||t.favorite!==!1)&&t.ready&&t.ready(e,r),o(r,e)}})};i.shareToTimeline=function(e,i){a({menu:"menu:share:timeline",action:"shareTimeline"},{appid:e.appId?e.appId:"",img_url:e.imgUrl,link:e.link,desc:e.desc,title:e.title,img_width:"640",img_height:"640"},i)},i.shareToFriend=function(e,i){a({menu:"menu:share:appmessage",action:"sendAppMessage"},{appid:e.appId?e.appId:"",img_url:e.imgUrl,link:e.link,desc:e.desc,title:e.title,img_width:"640",img_height:"640"},i)},i.shareToWeibo=function(e,i){a({menu:"menu:share:weibo",action:"shareWeibo"},{content:e.desc,url:e.link},i)},i.generalShare=function(e,i){a({menu:"general:share"},{appid:e.appId?e.appId:"",img_url:e.imgUrl,link:e.link,desc:e.desc,title:e.title,img_width:"640",img_height:"640"},i)},i.addContact=function(e,i){i=i||{},WeixinJSBridge.invoke("addContact",{webtype:"1",username:e},function(e){var n=!e.err_msg||"add_contact:ok"==e.err_msg||"add_contact:added"==e.err_msg;n?i.success&&i.success(e):i.fail&&i.fail(e)})},i.imagePreview=function(e,i){e&&i&&0!=i.length&&WeixinJSBridge.invoke("imagePreview",{current:e,urls:i})},i.showOptionMenu=function(){WeixinJSBridge.call("showOptionMenu")},i.hideOptionMenu=function(){WeixinJSBridge.call("hideOptionMenu")},i.showToolbar=function(){WeixinJSBridge.call("showToolbar")},i.hideToolbar=function(){WeixinJSBridge.call("hideToolbar")},i.getNetworkType=function(e){e&&"function"==typeof e&&WeixinJSBridge.invoke("getNetworkType",{},function(i){e(i.err_msg)})},i.closeWindow=function(e){e=e||{},WeixinJSBridge.invoke("closeWindow",{},function(i){switch(i.err_msg){case"close_window:ok":e.success&&e.success(i);break;default:e.fail&&e.fail(i)}})},i.ready=function(i){var n=function(){var e={};Object.keys(WeixinJSBridge).forEach(function(i){e[i]=WeixinJSBridge[i]}),Object.keys(WeixinJSBridge).forEach(function(i){"function"==typeof WeixinJSBridge[i]&&(WeixinJSBridge[i]=function(){try{var n=arguments.length>0?arguments[0]:{},a=n.__params?n.__params.__runOn3rd_apis||[]:[];["menu:share:timeline","menu:share:appmessage","menu:share:qq","general:share"].forEach(function(e){-1===a.indexOf(e)&&a.push(e)})}catch(t){}return e[i].apply(WeixinJSBridge,arguments)})})};if(i&&"function"==typeof i){var a=this,t=function(){n(),i(a)};"undefined"==typeof e.WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",t,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",t),document.attachEvent("onWeixinJSBridgeReady",t)):t()}},i.openInWeixin=function(){return/MicroMessenger/i.test(navigator.userAgent)},i.scanQRCode=function(e){e=e||{},WeixinJSBridge.invoke("scanQRCode",{needResult:e.needResult?1:0,desc:e.desc||"WeixinApi Desc"},function(i){switch(i.err_msg){case"scanQRCode:ok":case"scan_qrcode:ok":e.success&&e.success(i);break;default:e.fail&&e.fail(i)}})},i.getInstallState=function(e,i){i=i||{},WeixinJSBridge.invoke("getInstallState",{packageUrl:e.packageUrl||"",packageName:e.packageName||""},function(e){var n=e.err_msg,a=n.match(/state:yes_?(.*)$/);a?(e.version=a[1]||"",i.success&&i.success(e)):i.fail&&i.fail(e),i.all&&i.all(e)})},i.sendEmail=function(e,i){i=i||{},WeixinJSBridge.invoke("sendEmail",{title:e.subject,content:e.body},function(e){"send_email:sent"===e.err_msg?i.success&&i.success(e):i.fail&&i.fail(e),i.all&&i.all(e)})},i.enableDebugMode=function(i){e.onerror=function(e,n,a,t){if("function"==typeof i)i({message:e,script:n,line:a,column:t});else{var r=[];r.push("\u989d\uff0c\u4ee3\u7801\u6709\u9519\u3002\u3002\u3002"),r.push("\n\u9519\u8bef\u4fe1\u606f\uff1a",e),r.push("\n\u51fa\u9519\u6587\u4ef6\uff1a",n),r.push("\n\u51fa\u9519\u4f4d\u7f6e\uff1a",a+"\u884c\uff0c"+t+"\u5217"),alert(r.join(""))}}}}(window);
</script>
<script>
WeixinApi.ready(function(Api) {
  var wxData = {
    "appId": "",
    "imgUrl" : '{{img}}',
    "link" : location.href,
    {% if notfound %}
    "desc" : '真的没有找到人脸...',
    {% else %}
    "desc" : '真的是太惊讶了，我看起来像{{age}}岁，最像的明星是{{star.name}}',
    {% endif %}
    "title" : "这是个看脸的世界"
  };
  var wxCallbacks = {favorite : false};
  Api.shareToFriend(wxData, wxCallbacks);
  Api.shareToTimeline(wxData, wxCallbacks);
  Api.shareToWeibo(wxData, wxCallbacks);
  Api.generalShare(wxData, wxCallbacks);
});
</script>
</body>
</html>